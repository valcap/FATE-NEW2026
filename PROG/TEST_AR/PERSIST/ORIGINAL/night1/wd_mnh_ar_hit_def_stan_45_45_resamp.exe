#! /bin/bash
export JOB=wd_mnh_ar_hit_def_stan_45_45_resamp
export GG=5GG
export HH=1H
export STARTMINUTE=300  # from 19:00 LT
#export STARTMINUTE=0  # from 14:00 LT
export ENDMINUTE=960    # to 06:00 LT
#export ENDMINUTE=1080    # to 08:00 LT
export NbNights=357
#export ROOT="/Users/masciadri/FATE/TEST_AR/REAL/TREATED_FILES_ALESSIO_TO_VALERIO_10min_ar_asym_obs_asym_1h_0_1h_resamp/ALL_1YEAR/WD_TREATED/"
#export ROOT_WS="/Users/masciadri/FATE/TEST_AR/REAL/TREATED_FILES_ALESSIO_TO_VALERIO_10min_ar_asym_obs_asym_1h_0_1h_resamp/ALL_1YEAR/WS_TREATED/" 
export ROOT="/Users/masciadri/FATE/TEST_AR/REAL/TREATED_FILES_ALESSIO_TO_VALERIO_10min_ar_sym_resamp/ALL_1YEAR/WD_TREATED/"
export ROOT_WS="/Users/masciadri/FATE/TEST_AR/REAL/TREATED_FILES_ALESSIO_TO_VALERIO_10min_ar_sym_resamp/ALL_1YEAR/WS_TREATED/" 
export STARTIN="WD_PERSISTENCE_1H_night_"
export STARTIN_WS="WS_PERSISTENCE_1H_night_"
export TAIL=".dat"
export LIMIT=3. # lim. inf da usarsi quando si vuole studiare lo scattering plot di WS sopra una certa soglia. Se si vuole tutto il sample mettere LIMIT=0.
rm -f ${JOB}
test -f out_scatter_for_python_bef.dat && rm -f out_scatter_for_python_bef.dat
test -f out_scatter_for_python_aft.dat && rm -f out_scatter_for_python_aft.dat
exe90mac_mod_check_new ${JOB}
./${JOB}<<EOF
${GG}
${HH}
${NbNights}
${STARTMINUTE}
${ENDMINUTE}
${LIMIT}
"${ROOT}"
"${ROOT_WS}"
"${TAIL}"
"${STARTIN}"
"${STARTIN_WS}"
'list_WD_${GG}_${HH}_2024_aug.txt'
'wd_sim_mnh_ar_dimm_${STARTMINUTE}_${ENDMINUTE}_BEF_stan_45_45_resamp.ps/cps'
'wd_sim_mnh_ar_dimm_${STARTMINUTE}_${ENDMINUTE}_AFT_stan_45_45_resamp.ps/cps'
EOF
ps2pdf wd_sim_mnh_ar_dimm_300_960_BEF_stan_45_45_resamp.ps
pdfcrop wd_sim_mnh_ar_dimm_300_960_BEF_stan_45_45_resamp.pdf
ps2pdf wd_sim_mnh_ar_dimm_300_960_AFT_stan_45_45_resamp.ps
pdfcrop wd_sim_mnh_ar_dimm_300_960_AFT_stan_45_45_resamp.pdf
python3 scatter_contour_wdbis.py out_scatter_for_python_bef.dat "OBS (deg)" "MNH-stan (deg)" "" 0. 360. 100.
python3 scatter_contour_wdbis.py out_scatter_for_python_aft.dat "OBS (deg)" "Persistence (deg)" "" 0. 360. 100.
mv out_scatter_for_python_bef.png wd_45_45_out_scatter_for_python_bef.png
mv out_scatter_for_python_aft.png wd_45_45_out_scatter_for_python_aft.png
